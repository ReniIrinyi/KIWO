<form class="registration" [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="form-left">
    <div class="form-input" *ngFor="let label of labelsArray; let i = index">
      <ng-container [ngSwitch]="label">
        <ng-container *ngSwitchCase="'Geburtsdatum'">
          <mat-form-field>
            <input
              matInput
              [matDatepicker]="picker"
              placeholder="Geburtsdatum: MM/DD/YYYY"
              formControlName="{{ label }}"
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="picker"
            ></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            <mat-hint></mat-hint>
          </mat-form-field>
        </ng-container>
        <ng-container *ngSwitchCase="'Nachricht'">
          <mat-form-field>
            <mat-label>{{ label }} </mat-label>
            <textarea matInput></textarea>
          </mat-form-field>
        </ng-container>
        <ng-container *ngSwitchDefault>
          <mat-form-field class="example-full-width">
            <mat-label>{{ label }}</mat-label>
            <input matInput />
          </mat-form-field>
        </ng-container>
      </ng-container>
    </div>
  </div>

  <div class="form-right">
    <div class="form-checkbox-container">
      <div>
        <p>Ich kann an einem oder mehreren Halbtagen mithelfen:</p>
      </div>
      <div class="form-checks">
        <div class="form-check-container" *ngFor="let day of daysArray">
          <label>{{ day }}</label>
          <mat-checkbox></mat-checkbox>
        </div>
      </div>
    </div>

    <div class="form-option-container">
      <div
        class="form-option"
        *ngFor="let option of optionsArray; let i = index"
      >
        <mat-form-field>
          <mat-label>{{ option }}</mat-label>
          <mat-select [formControlName]="option">
            <mat-option value="ja">Ja</mat-option>
            <mat-option value="nein">Nein</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
    <div class="form-validator">
      <div class="signature">
        <mat-checkbox>
          Ich habe die Bedingungen zur Kenntnis genommen und bin damit
          einverstanden.</mat-checkbox
        >
        <p>
          Wir weisen darauf hin, dass die Anmeldung verbindlich ist. Bitte
          bestätige die Richtigkeit der Angaben mit deiner Unterschrift.
        </p>

        <canvas id="signatureCanvas" #signatureCanvas></canvas>

        <div class="btn-container">
          <button class="btn submit-btn" type="submit" [disabled]="!form.valid">
            Absenden
          </button>
          <button
            class="btn clear-btn"
            type="button"
            (click)="clearSignature()"
          >
            Löschen
          </button>
        </div>
        <div *ngIf="showStatus" class="status">
          <p *ngIf="serverStatus">
            Vielen Dank für deine Nachricht. Wir werden dich in Kürze
            kontaktieren!
          </p>
          <p *ngIf="!serverStatus">
            Oops! Es gab ein Problem beim Absenden deines Formulars. Bitte
            versuche es erneut!
          </p>
        </div>
      </div>
    </div>
  </div>
</form>
